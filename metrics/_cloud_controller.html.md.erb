Cloud Controller metrics have the following origin names:

+ [cc](#cc)
+ [cc_worker](#cc_worker)

Default Origin Name: cc

Statsd/Prometheus metrics for Cloud Controller API Server

Statsd Metric Name                                          | Prometheus Metric Name                              | Description                                                                                                                                            
-----------------------------------------------------------|------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------
NA                                                         | cc\_puma\_worker\_count                              | Worker count<br /> **Puma-Only Metric**
NA                                                         | cc\_puma\_worker\_started\_at                        | Worker, started_at<br /> **Puma-Only Metric**
NA                                                         | cc\_puma\_worker\_thread\_count                      | Worker thread count<br /> **Puma-Only Metric**
NA                                                         | cc\_puma\_worker\_backlog                            | Worker backlog<br /> **Puma-Only Metric**
deployments.deploying                                      | cc\_deployments\_in\_progress\_total                 | Number of deployments in the DEPLOYING state. Emitted every 30 seconds.                                                                              
NA                                                         | cc\_acquired\_db\_connections\_total                 | Number of acquired DB connections (blocked by threads).
NA                                                         | cc\_open\_db\_connections\_total                     | Number of open DB connections (acquired + available).
NA                                                         | cc\_db\_connection\_hold\_duration\_seconds          | Durations of connections held by threads.
NA                                                         | cc\_db\_connection\_wait\_duration\_seconds          | Durations of threads which waited for an available DB connection.
NA                                                         | cc\_db\_connection\_pool\_timeouts\_total            | Number of threads which failed to acquire a free DB connection from the pool within the timeout.
deployments.update.duration                                | NA                                                   | Time in milliseconds that it took to complete an update of app deployments. Emitted every 5 seconds.
diego_sync.invalid_desired_lrps                            | NA                                                   | Number of invalid DesiredLRPs found during Cloud Foundry apps and Diego DesiredLRPs periodic synchronization. Emitted every 30 seconds.               
diego\_sync.duration                                       | NA                                                   | Time in milliseconds that it took to synchronize Cloud Foundry apps and Diego DesiredLRPs. Emitted every 30 seconds.                                   
failed\_job\_count.total                                   | cc\_failed\_job\_count\_total                        | Number of failed jobs in all queues. By default, Cloud Controller deletes failed jobs after 31 days. Emitted every 30 seconds per VM.                  
http\_status.1XX                                           | NA                                                   | Number of HTTP response status codes of type 1xx (informational). This resets when the Cloud Controller process is restarted and is incremented at the end of each request cycle. 
http\_status.2XX                                           | NA                                                   | Number of HTTP response status codes of type 2xx (success). This resets when the Cloud Controller process is restarted and is incremented at the end of each request cycle. Emitted for each Cloud Controller request. 
http\_status.3XX                                           | NA                                                   | Number of HTTP response status codes of type 3xx (redirection). This resets when the Cloud Controller process is restarted and is incremented at the end of each request cycle. Emitted for each Cloud Controller request. 
http\_status.4XX                                           | NA                                                   | Number of HTTP response status codes of type 4xx (client error). This resets when the Cloud Controller process is restarted and is incremented at the end of each request cycle. Emitted for each Cloud Controller request. 
http\_status.5XX                                           | NA                                                   | Number of HTTP response status codes of type 5xx (server error). This resets when the Cloud Controller process is restarted and is incremented at the end of each request cycle.                          | NA                                                   | Number of background jobs in the cc-generic queue that have yet to run for the first time. Emitted every 30 seconds per VM.                             
job\_queue\_length.total                                   | cc\_job\_queues\_length\_total                       | Total number of background jobs in the queues that have yet to run for the first time. Emitted every 30 seconds per VM.                                 
job\_queue\_load.total                                     | cc\_job\_queues\_load\_total                         | Total number of background jobs in the queues that are ready to run now. Emitted every 30 seconds per VM.                                               
log\_count.all                                             | NA                                                   | Total number of log messages, sum of messages of all severity levels. The count resets when the Cloud Controller process is restarted. Emitted every 30 seconds per VM. 
log\_count.debug                                           | NA                                                   | Number of log messages of severity "debug." The count resets when the Cloud Controller process is restarted. Emitted every 30 seconds per VM.           
log\_count.debug1                                          | NA                                                   | Not used.                                                                                                                                              
log\_count.debug2                                          | NA                                                   | Number of log messages of severity "debug2." The count resets when the Cloud Controller process is restarted. Emitted every 30 seconds per VM.          
log\_count.error                                           | NA                                                   | Number of log messages of severity "error." Error is the most severe level. It is used for failures and during error handling. Most errors can be found under this log level, eg. failed unbinding a service, failed to cancel a task, Diego app crashed error, staging completion errors, staging errors, and resource not found. The count resets when the Cloud Controller process is restarted. Emitted every 30 seconds per VM. 
log\_count.fatal                                           | NA                                                   | Number of log messages of severity "fatal." The count resets when the Cloud Controller process is restarted. Emitted every 30 seconds per VM.           
log\_count.info                                            | NA                                                   | Number of log messages of severity "info." Examples of info messages are droplet created, copying package, uploading package, access denied due to insufficient scope, job logging, blobstore actions, staging requests, and app running requests. The count resets when the Cloud Controller process is restarted. Emitted every 30 seconds per VM. 
log\_count.off                                             | NA                                                   | Number of log messages of severity "off." The count resets when the Cloud Controller process is restarted. Emitted every 30 seconds per VM.             
log\_count.warn                                            | NA                                                   | Number of log messages of severity "warn."  Warn is also used for failures and during error handling, eg. diagnostics written to file, failed to capture diagnostics, app rollback failed, service broker already deleted, and UAA token problems. The count resets when the Cloud Controller process is restarted. Emitted every 30 seconds per VM. 
requests.completed                                         | cc\_requests\_completed\_total                       | Number of requests that have been processed. Emitted for each Cloud Controller request.                                                                
requests.outstanding                                       | cc\_requests\_outstanding\_total                     | DEPRECATED in favor of requests.outstanding.gauge                                                                                                       
requests.outstanding.gauge                                 | NA                                                   | Number of requests that are currently being processed. Emitted for each Cloud Controller request.
staging.requested                                          | cc\_staging\_requests\_total                         | Cumulative number of requests to start a staging task handled by each Cloud Controller.                                                                
staging.succeeded                                          | NA                                                   | Cumulative number of successful staging tasks handled by each Cloud Controller. Emitted every time a staging task completes successfully.              
staging.succeeded_duration                                 | NA                                                   | Time in milliseconds that the successful staging task took to run. Emitted each time a staging task completes successfully.                            
NA                                                         | cc\_staging\_succeeded\_duration\_seconds            | Histogram - Time in seconds that the successful staging task took to run. **Puma-Only Metric**
staging.failed                                             | NA                                                   | Cumulative number of failed staging tasks handled by each Cloud Controller. Emitted every time a staging task fails.                                    
staging.failed_duration                                    | NA                                                   | Time in milliseconds that the failed staging task took to run. Emitted each time a staging task fails.                                                 
NA                                                         | cc\_staging\_failed\_duration\_seconds               | Histogram - Time in seconds that the failed staging task took to run. **Puma-Only Metric**                                                 
tasks\_running.count                                       | cc\_running\_tasks\_total                            | Number of currently running tasks. Emitted every 30 seconds per VM. This metric is only seen in version 3 of the Cloud Foundry API.                     
tasks\_running.memory\_in\_mb                              | cc\_running\_tasks\_memory\_bytes                    | Memory being consumed by all currently running tasks. Emitted every 30 seconds per VM. This metric is only seen in version 3 of the Cloud Foundry API
thread\_info.event\_machine.connection\_count              | cc\_thread\_info_event\_machine\_connection\_count       | Number of open connections to event machine. Emitted every 30 seconds per VM.<br /> **Thin Only, Not available in Puma**
thread\_info.event\_machine.resultqueue.num\_waiting       | cc\_thread\_info_event\_machine\_resultqueue\_num\_waiting | Number of scheduled tasks in the result. Emitted every 30 seconds per VM. **Thin Only, Not available in Puma**
thread\_info.event\_machine.resultqueue.size               | cc\_thread\_info\_event\_machine\_resultqueue_size       | Number of unscheduled tasks in the result. Emitted every 30 seconds per VM.<br /> **Thin Only, Not available in Puma**
thread\_info.event\_machine.threadqueue.num\_waiting       | cc\_thread\_info\_event\_machine\_threadqueue\_num\_waiting | Number of scheduled tasks in the threadqueue. Emitted every 30 seconds per VM<br />. **Thin Only, Not available in Puma**
thread\_info.event\_machine.threadqueue.size               | cc\_thread\_info\_event\_machine\_threadqueue\_size         | Number of unscheduled tasks in the threadqueue. Emitted every 30 seconds per VM.<br /> **Thin Only, Not available in Puma**
thread\_info.thread\_count                                 | cc\_thread\_info\_thread\_count                           | Total number of threads that are either runnable or stopped. Emitted every 30 seconds per VM.<br /> **Thin Only, Not available in Puma**
total\_users                                               | cc\_users\_total                                      | Total number of users ever created, including inactive users. Emitted every 10 minutes per VM.<br /> **Thin Only, Not available in Puma**
vcap\_sinatra.recent\_errors                               | NA                                                    | 50 most recent errors. DEPRECATED
NA                                                         | cc\_vitals\_started\_at                               | CloudController Vitals: started_at
vitals.cpu                                                 | NA                                                    | Average lifetime CPU% utilization of the Cloud Controller process according to ps. Usually misleading, prefer `vitals.cpu_load_average`. Emitted every 30 seconds per VM.
vitals.cpu\_load\_avg                                      | cc\_vitals\_cpu\_load\_avg                            | System CPU load averaged over the last 1 minute according to the OS's vmstat metrics. Emitted every 30 seconds per VM.
vitals.mem\_bytes                                          | cc\_vitals\_mem\_bytes                                | The RSS bytes (resident set size) or real memory of the Cloud Controller process. Emitted every 30 seconds per VM.
vitals.mem\_free\_bytes                                    | cc\_vitals\_mem\_free\_bytes                          | Total memory available according to the OS. Emitted every 30 seconds per VM.
vitals.mem\_used\_bytes                                    | cc\_vitals\_mem\_used\_bytes                          | Total memory used (active + wired) according to the OS. Emitted every 30 seconds per VM.
vitals.num\_cores                                          | cc\_vitals\_num\_cores                                | The number of CPUs of a host machine. Emitted every 30 seconds per VM.
vitals.uptime                                              | NA                                                    | The uptime of the Cloud Controller process in seconds. Emitted every 30 seconds per VM.

Default Origin Name: cc_worker

Statsd/Prometheus metrics for Cloud Controller Workers

Prometheus Metric Name                               | Description
-----------------------------------------------------|---------------------------------------------------------------------------------------------------------
cc\_acquired\_db\_connections\_total                 | Number of acquired DB connections (blocked by threads).
cc\_open\_db\_connections\_total                     | Number of open DB connections (acquired + available).
cc\_db\_connection\_hold\_duration\_seconds          | Durations of connections held by threads.
cc\_db\_connection\_wait\_duration\_seconds          | Durations of threads which waited for an available DB connection.
cc\_db\_connection\_pool\_timeouts\_total            | Number of threads which failed to acquire a free DB connection from the pool within the timeout.

[Top](#top)
